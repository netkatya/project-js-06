import{S as M,N as E,P as q,A as R,a as v,i as d,b as V}from"./assets/vendor-D373hVsM.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const f=document.querySelector(".burger-btn"),C=document.querySelector(".mobile-menu"),W=document.querySelector(".close-btn"),Y=document.querySelector(".mobile-menu-nav-list");f.addEventListener("click",()=>{document.body.classList.add("no-scroll"),C.classList.add("is-open"),f.classList.add("rotate")});W.addEventListener("click",()=>{C.classList.remove("is-open"),document.body.classList.remove("no-scroll"),f.classList.remove("rotate")});Y.addEventListener("click",e=>{e.target.classList.contains("mobile-menu-nav-item-link")&&(document.body.classList.remove("no-scroll"),C.classList.remove("is-open"),f.classList.remove("rotate"))});const B=document.querySelector("#input");B.addEventListener("change",()=>{const e=B.checked;document.body.classList.toggle("body-dark-theme",e),localStorage.setItem("theme",e?"dark":"light")});document.addEventListener("DOMContentLoaded",()=>{const o=localStorage.getItem("theme")==="dark";B.checked=o,document.body.classList.toggle("body-dark-theme",o)});new M(".hero .swiper",{modules:[E,q,R],slidesPerView:1,navigation:{nextEl:".hero .button-next",prevEl:".hero .button-prev",disabledClass:"disabled"},autoplay:{delay:4e3,disableOnInteraction:!1}});const w="https://books-backend.p.goit.global/books/";async function F(){try{return(await v(`${w}category-list`)).data}catch(e){alert(e.message)}}async function j(){try{return(await v(`${w}top-books`)).data}catch(e){alert(e.message)}}async function Q(e){try{return(await v(`${w}category?category=${e}`)).data}catch(o){alert(o.message)}}async function z(e){try{return(await v(`${w}${e}`)).data}catch(o){alert(o.message)}}d.settings({position:"topRight"});const t={loadMoreBtn:document.querySelector(".books-list-load-more"),goToTopBtn:document.querySelector(".books-list-go-top"),dropdown:document.querySelector(".books-category-list"),dropdownList:document.querySelector(".category-dropdown-list"),categoryModal:document.querySelector(".category-modal"),dropdownBtn:document.querySelector(".category-list-dropdown-button"),booksList:document.querySelector(".books-list"),booksShowedSummary:document.querySelector(".books-section-subheader-summary"),loader:document.querySelector(".loader"),categoryBox:document.querySelector(".books-category-box"),bookModal:document.querySelector(".books-modal-overlay"),bookImage:document.querySelector(".books-modal-picture"),bookHeader:document.querySelector(".books-modal-header"),bookAuthor:document.querySelector(".books-modal-text"),bookPrice:document.querySelector(".books-modal-price"),divBookModal:document.querySelector("div.books-modal"),bookDetails:document.querySelector(".ac-text.details"),bookQuantity:document.querySelector(".quantity-buttons-input"),bookShipping:document.querySelector(".ac-text.shipping"),bookReturns:document.querySelector(".ac-text.returns"),bookModalCloseBtn:document.querySelector(".books-modal-overlay .events-close-button")};function y(e){d.error({title:"Error",message:e})}function x(e){d.info({message:e})}function T(){t.loader.style.display="block"}function L(){t.loader.style.display="none"}function U(){t.loadMoreBtn.style.display="block"}function i(){t.loadMoreBtn.style.display="none"}function K(){const e=window.scrollY;t.bookModal.classList.add("is-open"),document.body.style.top=`-${e}px`,document.body.style.width="100%"}let l=[],u=10,m=1,b=0;window.innerWidth>=1440&&(u=24);async function G(){try{let e=await F();e=[{list_name:"All categories"},...e].filter(({list_name:o})=>o.trim()!=""),ne(e)}catch(e){y(e)}finally{}}async function _(e=!1){try{l=(await j()).flatMap(({books:n})=>n),$(l,e)}catch{i(),y("Error loading books from the server!")}finally{L()}}async function J(e,o=!1){try{l=[...await Q(e)],$(l,o)}catch{i(),y("Error loading books from the server!")}finally{L()}}function $(e,o){let n=0;e.length>=u&&(n=1+Math.ceil((e.length-u)/4)),e.length>0?(ee(e,o),m>=n?(i(),n>1&&x("We're sorry, but you've reached the end of search results.")):U(),m++):(A(),i(),y("Sorry, there are no images matching your search query.Please try again!"))}function X(e){i(),T(),setTimeout(()=>{$(l,!0),L()},500)}function Z(e){if(!e)return;const o=()=>{window.scrollY>300?e.classList.remove("visually-hidden"):e.classList.add("visually-hidden")},n=()=>{window.scrollTo({top:0,behavior:"smooth"})};window.addEventListener("scroll",o),e.addEventListener("click",n),o()}function ee(e,o=!1){let n;m===1?n=(m-1)*u:n=b,b=Math.min(e.length,n+(o?4:u));const a=e.slice(n,b).map(({_id:s,title:r,author:c,price:D,book_image:H,description:N})=>`<li class="books-item" data-id="${s}">
            <img class="books-item__image" src="${H}" alt="${N}"/>
            <div class="books-item__header">
              <span class="books-item__title">${r}</span>
              <span class="books-item__price"> ${"$"+D}</span>
            </div>
            <p class="books-item__author">${c}</p>
            <button class="books__learnmore-btn books-main-btn books-transparent-btn" type="button">Learn More</button>
          </li>`).join("");o?t.booksList.insertAdjacentHTML("beforeend",a):t.booksList.innerHTML=a,t.booksShowedSummary.textContent=`Showing ${b} of ${l.length}`,o&&se()}function te(){t.dropdown.classList.toggle("is-open");const e=t.categoryBox.getBoundingClientRect();t.categoryModal.style.position="absolute",t.categoryModal.style.top=`${e.bottom+4}px`,t.categoryModal.style.left=`${e.left}px`,t.categoryModal.style.display="block",document.body.classList.add("modal-open")}function oe(){m=1}function A(){t.booksList.innerHTML=""}function ne(e){t.dropdownList.innerHTML=e.map(({list_name:o})=>`<li class="categories__item">${o}</li>`).join("")}function se(){const e=document.querySelector(".books-list .books-item");let o=4;if(window.innerWidth>=1440?o=1:window.innerWidth>=768&&(o=2),e){const n=e.getBoundingClientRect().height;window.scrollBy({top:n*o,behavior:"smooth"})}}function P(){t.dropdown.classList.remove("is-open"),t.dropdown.addEventListener("transitionend",function e(o){o.propertyName==="opacity"&&(t.categoryModal.style.display="",t.categoryModal.removeEventListener("transitionend",e))}),document.body.classList.remove("modal-open")}function re(e){if(!e.target.classList.contains("categories__item"))return;window.innerWidth<1440&&P();const o=e.target;oe(),A(),T(),o.textContent.toLowerCase()==="all categories"?_():J(encodeURIComponent(o.textContent.trim()))}function ae(e){if(!e.target.classList.contains("books__learnmore-btn"))return;const n=e.target.parentElement.dataset.id.trim();ie(n)}async function ie(e,o=!1){try{const n=await z(e);le(n)}catch{i(),y("Error loading books from the server!")}finally{L()}}function le({_id:e,title:o,author:n,price:a,book_image:s,description:r}){t.divBookModal.setAttribute("data-id",e),t.divBookModal.setAttribute("data-price",a),t.bookImage.src=s,t.bookImage.alt=r,t.bookHeader.textContent=o,t.bookAuthor.textContent=n,t.bookPrice.textContent=`$${a}`,t.bookQuantity.value="1",t.bookDetails.textContent=r||`I Will Find You is a gripping thriller by the master of suspense,
              Harlan Coben. The story follows David Burroughs, a former prisoner
              wrongfully convicted of murdering his own son. When he discovers a
              clue suggesting his son might still be alive, David escapes from
              prison to uncover the truth. Fast-paced, emotional, and full of
              unexpected twists â€” this novel will keep you hooked until the very
              last page.`,K(),document.body.classList.add("modal-open")}i();G();_();t.dropdownBtn.addEventListener("click",te);t.dropdownList.addEventListener("click",re);t.loadMoreBtn.addEventListener("click",X);t.booksList.addEventListener("click",ae);Z(t.goToTopBtn);t.dropdown.addEventListener("click",e=>{e.target===t.dropdown&&P()});window.addEventListener("keydown",e=>{e.key==="Escape"&&P()});window.addEventListener("resize",()=>{window.innerWidth>1440&&(t.categoryModal.style.position="",t.categoryModal.style.top="",t.categoryModal.style.left="")});const ce=document.querySelector(".minus-button"),de=document.querySelector(".plus-button"),g=document.querySelector(".quantity-buttons-input"),ue=document.querySelector(".books-modal-buy-button"),me=document.querySelector(".books-modal-add-button");ue.addEventListener("click",ye);me.addEventListener("click",pe);function ye(e){x("Thank you for your purchase!"),p()}function pe(e){x(`You have chosen a book ${t.bookHeader.textContent} by the author ${t.bookAuthor.textContent} in the amount of ${t.bookQuantity.value} pieces for the amount of ${t.bookPrice.textContent}`),p()}document.addEventListener("DOMContentLoaded",()=>{new V(".js-accordion",{duration:300,showMultiple:!0})});ce.addEventListener("click",()=>{let e=parseInt(g.value);const o=+t.divBookModal.dataset.price;e>1&&(e-=1,g.value=e,t.bookPrice.textContent=`$${(o*e).toFixed(2)}`)});de.addEventListener("click",()=>{let e=parseInt(g.value);const o=+t.divBookModal.dataset.price;e+=1,g.value=e,t.bookPrice.textContent=`$${(o*e).toFixed(2)}`});t.bookModal.addEventListener("click",e=>{e.target===t.bookModal&&p()});function p(){t.bookModal.classList.remove("is-open"),document.body.classList.remove("modal-open")}window.addEventListener("keydown",e=>{e.key==="Escape"&&(e.preventDefault(),p())});t.bookModalCloseBtn.addEventListener("click",p);new M(".feedbacks .swiper",{modules:[E,q],slidesPerView:1,spaceBetween:20,navigation:{nextEl:".feedbacks .button-next",prevEl:".feedbacks .button-prev",disabledClass:"disabled"},pagination:{el:".feedbacks .pagination-for-swiper",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1400:{slidesPerView:3,spaceBetween:24}}});new M(".events .swiper",{modules:[E,q],slidesPerView:1,spaceBetween:20,navigation:{nextEl:".events .button-next",prevEl:".events .button-prev",disabledClass:"disabled"},pagination:{el:".events .pagination-for-swiper",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1024:{enabled:!1}}});const h=document.querySelector(".events-modal-overlay-events"),be=document.querySelector(".events-modal-overlay-events .events-close-button"),ke=document.querySelector(".events-modal-text"),k=document.querySelector(".modal-form");let I=0,O="";function fe(e){I=window.scrollY,O=e,ke.textContent=e,h.classList.add("is-open"),document.body.classList.add("modal-open"),document.documentElement.classList.add("modal-open"),document.body.style.top=`-${I}px`,document.body.style.width="100%"}function S(){h.classList.remove("is-open"),document.body.classList.remove("modal-open"),document.documentElement.classList.remove("modal-open"),document.body.style.position="",document.body.style.width="";const e=parseInt(document.body.style.top||"0")*-1;document.body.style.top="",window.scrollTo(0,e)}h.addEventListener("click",e=>{e.target===h&&S()});window.addEventListener("keydown",e=>{e.key==="Escape"&&(e.preventDefault(),S())});be.addEventListener("click",S);const ge=document.querySelectorAll(".events-list-button");ge.forEach(e=>{e.addEventListener("click",o=>{const a=o.currentTarget.closest(".swiper-slide").querySelector(".events-list-header").textContent.trim();fe(a)})});k.addEventListener("submit",e=>{e.preventDefault();const o=k.querySelector('input[name="events-name"]').value.trim(),n=k.querySelector('input[name="events-email"]').value.trim();if(!o||!n){d.error({title:"Missing Fields",message:"Please fill in both your name and email.",position:"topRight",timeout:3e3});return}d.success({title:"Success",message:`You have successfully registered for the event: "${O}"`,position:"topRight",timeout:3e3}),k.reset(),S()});document.querySelector(".loader");
//# sourceMappingURL=index.js.map
