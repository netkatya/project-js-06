import{a as w,i as u,S as q,N as x,K as M,A as z,b as K,c as Q,P as _}from"./assets/vendor-B6dBERnr.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const g=document.querySelector(".burger-btn"),C=document.querySelector(".mobile-menu"),U=document.querySelector(".close-btn"),G=document.querySelector(".mobile-menu-nav-list");g.addEventListener("click",()=>{document.body.classList.add("no-scroll"),C.classList.add("is-open"),g.classList.add("rotate")});U.addEventListener("click",()=>{C.classList.remove("is-open"),document.body.classList.remove("no-scroll"),g.classList.remove("rotate")});G.addEventListener("click",e=>{e.target.classList.contains("mobile-menu-nav-item-link")&&(document.body.classList.remove("no-scroll"),C.classList.remove("is-open"),g.classList.remove("rotate"))});const E=document.querySelector("#input");E.addEventListener("change",()=>{const e=E.checked;document.body.classList.toggle("body-dark-theme",e),localStorage.setItem("theme",e?"dark":"light")});document.addEventListener("DOMContentLoaded",()=>{const t=localStorage.getItem("theme")==="dark";E.checked=t,document.body.classList.toggle("body-dark-theme",t)});const L="https://books-backend.p.goit.global/books/";async function J(){try{return(await w(`${L}category-list`)).data}catch(e){alert(e.message)}}async function X(){try{return(await w(`${L}top-books`)).data}catch(e){alert(e.message)}}async function Z(e){try{return(await w(`${L}category?category=${e}`)).data}catch(t){alert(t.message)}}async function ee(e){try{return(await w(`${L}${e}`)).data}catch(t){alert(t.message)}}u.settings({position:"topRight"});const o={loadMoreBtn:document.querySelector(".books-list-load-more"),goToTopBtn:document.querySelector(".books-list-go-top"),dropdown:document.querySelector(".books-category-list"),dropdownList:document.querySelector(".category-dropdown-list"),categoryModal:document.querySelector(".category-modal"),dropdownBtn:document.querySelector(".category-list-dropdown-button"),booksList:document.querySelector(".books-list"),booksShowedSummary:document.querySelector(".books-section-subheader-summary"),loader:document.querySelector(".loader"),categoryBox:document.querySelector(".books-category-box"),bookModal:document.querySelector(".books-modal-overlay"),bookImage:document.querySelector(".books-modal-picture"),bookHeader:document.querySelector(".books-modal-header"),bookAuthor:document.querySelector(".books-modal-text"),bookPrice:document.querySelector(".books-modal-price"),divBookModal:document.querySelector("div.books-modal"),bookDetails:document.querySelector(".ac-text.details"),bookQuantity:document.querySelector(".quantity-buttons-input"),bookShipping:document.querySelector(".ac-text.shipping"),bookReturns:document.querySelector(".ac-text.returns"),bookModalCloseBtn:document.querySelector(".books-modal-overlay .events-close-button")};function b(e){u.error({title:"Error",message:e})}function $(e){u.info({message:e})}function O(){o.loader.style.display="block"}function S(){o.loader.style.display="none"}function te(){o.loadMoreBtn.style.display="block"}function a(){o.loadMoreBtn.style.display="none"}function oe(){const e=window.scrollY;o.bookModal.classList.add("is-open"),document.body.style.top=`-${e}px`,document.body.style.width="100%"}let l=[],m=10,y=1,k=0;window.innerWidth>=1440&&(m=24);async function ne(){try{let e=await J();e=[{list_name:"All categories"},...e].filter(({list_name:t})=>t.trim()!=""),ue(e)}catch(e){b(e)}finally{}}async function D(e=!1){try{l=(await X()).flatMap(({books:n})=>n),P(l,e)}catch{a(),b("Error loading books from the server!")}finally{S()}}async function se(e,t=!1){try{l=[...await Z(e)],P(l,t)}catch{a(),b("Error loading books from the server!")}finally{S()}}function P(e,t){let n=0;e.length>=m&&(n=1+Math.ceil((e.length-m)/4)),e.length>0?(le(e,t),y>=n?(a(),n>1&&$("We're sorry, but you've reached the end of search results.")):te(),y++):(N(),a(),b("Sorry, there are no images matching your search query.Please try again!"))}function re(e){a(),O(),setTimeout(()=>{P(l,!0),S()},500)}function ie(e){if(!e)return;const t=()=>{window.scrollY>300?e.classList.remove("visually-hidden"):e.classList.add("visually-hidden")},n=()=>{window.scrollTo({top:0,behavior:"smooth"})};window.addEventListener("scroll",t),e.addEventListener("click",n),t()}function ae(){let e=343,t=487;return window.innerWidth>=1440?(e=227,t=322):window.innerWidth>=768&&(e=340,t=483),`width="${e}" height="${t}"`}function le(e,t=!1){let n;y===1?n=(y-1)*m:n=k,k=Math.min(e.length,n+(t?4:m));const i=e.slice(n,k).map(({_id:s,title:r,author:d,price:R,book_image:Y,description:j})=>`<li class="books-item" data-id="${s}">
            <img class="books-item__image" src="${Y}" alt="${j}" loading="lazy" ${ae()} />
            <div class="books-item__header">
              <span class="books-item__title">${r}</span>
              <span class="books-item__price"> ${"$"+R}</span>
            </div>
            <p class="books-item__author">${d}</p>
            <button class="books__learnmore-btn books-main-btn books-transparent-btn" type="button">Learn More</button>
          </li>`).join("");t?o.booksList.insertAdjacentHTML("beforeend",i):o.booksList.innerHTML=i,o.booksShowedSummary.textContent=`Showing ${k} of ${l.length}`,t&&me()}function ce(){o.dropdown.classList.toggle("is-open");const e=o.categoryBox.getBoundingClientRect();o.categoryModal.style.position="absolute",o.categoryModal.style.top=`${e.bottom+4}px`,o.categoryModal.style.left=`${e.left}px`,o.categoryModal.style.display="block",document.body.classList.add("modal-open")}function de(){y=1}function N(){o.booksList.innerHTML=""}function ue(e){o.dropdownList.innerHTML=e.map(({list_name:t})=>`<li class="categories__item">${t}</li>`).join("")}function me(){const e=document.querySelector(".books-list .books-item");let t=4;if(window.innerWidth>=1440?t=1:window.innerWidth>=768&&(t=2),e){const n=e.getBoundingClientRect().height;window.scrollBy({top:n*t,behavior:"smooth"})}}function I(){o.dropdown.classList.remove("is-open"),o.dropdown.addEventListener("transitionend",function e(t){t.propertyName==="opacity"&&(o.categoryModal.style.display="",o.categoryModal.removeEventListener("transitionend",e))}),document.body.classList.remove("modal-open")}function ye(e){if(!e.target.classList.contains("categories__item"))return;window.innerWidth<1440&&I();const t=e.target;de(),N(),O(),t.textContent.toLowerCase()==="all categories"?D():se(encodeURIComponent(t.textContent.trim()))}function be(e){if(!e.target.classList.contains("books__learnmore-btn"))return;const n=e.target.parentElement.dataset.id.trim();pe(n)}async function pe(e,t=!1){try{const n=await ee(e);ke(n)}catch{a(),b("Error loading books from the server!")}finally{S()}}function ke({_id:e,title:t,author:n,price:i,book_image:s,description:r}){o.divBookModal.setAttribute("data-id",e),o.divBookModal.setAttribute("data-price",i),o.bookImage.src=s,o.bookImage.alt=r,o.bookHeader.textContent=t,o.bookAuthor.textContent=n,o.bookPrice.textContent=`$${i}`,o.bookQuantity.value="1",o.bookDetails.textContent=r||`I Will Find You is a gripping thriller by the master of suspense,
              Harlan Coben. The story follows David Burroughs, a former prisoner
              wrongfully convicted of murdering his own son. When he discovers a
              clue suggesting his son might still be alive, David escapes from
              prison to uncover the truth. Fast-paced, emotional, and full of
              unexpected twists — this novel will keep you hooked until the very
              last page.`,oe(),document.body.classList.add("modal-open")}function c(e,t,n){(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),n==="next"?t.slideNext():t.slidePrev())}const V=new q(".hero .swiper",{modules:[x,M,z,K],slidesPerView:1,navigation:{nextEl:".hero .button-next",prevEl:".hero .button-prev",disabledClass:"disabled"},keyboard:{enabled:!0,onlyInViewport:!0},autoplay:{delay:4e3,disableOnInteraction:!1},on:{init(){A(this)},slideChange(){A(this)}}});function A(e){e.slides.forEach((t,n)=>{n===e.activeIndex?t.setAttribute("tabindex","0"):t.setAttribute("tabindex","-1"),t.setAttribute("role","group"),t.setAttribute("aria-label",`Слайд ${n+1} из ${e.slides.length}`)})}const fe=document.querySelector(".hero .button-prev"),ge=document.querySelector(".hero .button-next");fe.addEventListener("keydown",e=>c(e,V,"prev"));ge.addEventListener("keydown",e=>c(e,V,"next"));a();ne();D();o.dropdownBtn.addEventListener("click",ce);o.dropdownList.addEventListener("click",ye);o.loadMoreBtn.addEventListener("click",re);o.booksList.addEventListener("click",be);ie(o.goToTopBtn);o.dropdown.addEventListener("click",e=>{e.target===o.dropdown&&I()});window.addEventListener("keydown",e=>{e.key==="Escape"&&I()});window.addEventListener("resize",()=>{window.innerWidth>1440&&(o.categoryModal.style.position="",o.categoryModal.style.top="",o.categoryModal.style.left="")});const ve=document.querySelector(".minus-button"),he=document.querySelector(".plus-button"),v=document.querySelector(".quantity-buttons-input"),we=document.querySelector(".books-modal-buy-button"),Le=document.querySelector(".books-modal-add-button");we.addEventListener("click",Se);Le.addEventListener("click",Be);function Se(e){$("Thank you for your purchase!"),p()}function Be(e){$(`You have chosen a book ${o.bookHeader.textContent} by the author ${o.bookAuthor.textContent} in the amount of ${o.bookQuantity.value} pieces for the amount of ${o.bookPrice.textContent}`),p()}document.addEventListener("DOMContentLoaded",()=>{new Q(".js-accordion",{duration:300,showMultiple:!0})});ve.addEventListener("click",()=>{let e=parseInt(v.value);const t=+o.divBookModal.dataset.price;e>1&&(e-=1,v.value=e,o.bookPrice.textContent=`$${(t*e).toFixed(2)}`)});he.addEventListener("click",()=>{let e=parseInt(v.value);const t=+o.divBookModal.dataset.price;e+=1,v.value=e,o.bookPrice.textContent=`$${(t*e).toFixed(2)}`});o.bookModal.addEventListener("click",e=>{e.target===o.bookModal&&p()});function p(){o.bookModal.classList.remove("is-open"),document.body.classList.remove("modal-open")}window.addEventListener("keydown",e=>{e.key==="Escape"&&(e.preventDefault(),p())});o.bookModalCloseBtn.addEventListener("click",p);const H=new q(".feedbacks .swiper",{modules:[x,_,M],slidesPerView:1,spaceBetween:20,navigation:{nextEl:".feedbacks .button-next",prevEl:".feedbacks .button-prev",disabledClass:"disabled"},pagination:{el:".feedbacks .pagination-for-swiper",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1400:{slidesPerView:3,spaceBetween:24}}}),Ee=document.querySelector(".section-feedbacks-nav-btns > .button-prev"),qe=document.querySelector(".section-feedbacks-nav-btns > .button-next");Ee.addEventListener("keydown",e=>c(e,H,"prev"));qe.addEventListener("keydown",e=>c(e,H,"next"));const W=new q(".events .swiper",{modules:[x,_,M],slidesPerView:1,spaceBetween:20,navigation:{nextEl:".events .button-next",prevEl:".events .button-prev",disabledClass:"disabled"},pagination:{el:".events .pagination-for-swiper",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1024:{enabled:!1}}}),xe=document.querySelector(".section-events-nav-btns > .button-prev"),Me=document.querySelector(".section-events-nav-btns > .button-next");xe.addEventListener("keydown",e=>{c(e,W,"prev")});Me.addEventListener("keydown",e=>{c(e,W,"next")});const h=document.querySelector(".events-modal-overlay-events"),Ce=document.querySelector(".events-modal-overlay-events .events-close-button"),$e=document.querySelector(".events-modal-text"),f=document.querySelector(".modal-form");let T=0,F="";function Pe(e){T=window.scrollY,F=e,$e.textContent=e,h.classList.add("is-open"),document.body.classList.add("modal-open"),document.documentElement.classList.add("modal-open"),document.body.style.top=`-${T}px`,document.body.style.width="100%"}function B(){h.classList.remove("is-open"),document.body.classList.remove("modal-open"),document.documentElement.classList.remove("modal-open"),document.body.style.position="",document.body.style.width="";const e=parseInt(document.body.style.top||"0")*-1;document.body.style.top="",window.scrollTo(0,e)}h.addEventListener("click",e=>{e.target===h&&B()});window.addEventListener("keydown",e=>{e.key==="Escape"&&(e.preventDefault(),B())});Ce.addEventListener("click",B);const Ie=document.querySelectorAll(".events-list-button");Ie.forEach(e=>{e.addEventListener("click",t=>{const i=t.currentTarget.closest(".swiper-slide").querySelector(".events-list-header").textContent.trim();Pe(i)})});f.addEventListener("submit",e=>{e.preventDefault();const t=f.querySelector('input[name="events-name"]').value.trim(),n=f.querySelector('input[name="events-email"]').value.trim();if(!t||!n){u.error({title:"Missing Fields",message:"Please fill in both your name and email.",position:"topRight",timeout:3e3});return}u.success({title:"Success",message:`You have successfully registered for the event: "${F}"`,position:"topRight",timeout:3e3}),f.reset(),B()});document.querySelector(".loader");
//# sourceMappingURL=index.js.map
